python -m venv venv // Ã‡a va crÃ©er un dossier venv/ contenant une copie isolÃ©e de Python pour ne pas polluer tout le systÃ¨me

.\venv\Scripts\activate // Pour se positionner dans lâ€™environnement isolÃ©.

C:\Users\Ousmane_DIOP\Desktop\projet_reconnaisance_facial\SPRF\venv\Scripts\activate // Dans un autre terminal pour pouvoir installer et executer dlbib

python setup.py install //Pour l'installer (prerequis CMake installÃ©, Build Tools de Visual Studio (MSVC))

pip freeze > requirements.txt //Il contiendra les versions exactes installÃ©es (face-recognition, opencv-python, dlib, etc.) pour partager le projet. ensuite, sur une autre machine (ou aprÃ¨s une rÃ©installation), tu nâ€™as quâ€™Ã  faire : pip install -r requirements.txt

ğŸ‘‰ face-recognition = la librairie qui gÃ¨re la dÃ©tection et lâ€™encodage des visages.
ğŸ‘‰ opencv-python (cv2) = pour charger, afficher et manipuler les images.
ğŸ‘‰ numpy â†’ gÃ¨re les tableaux de nombres (les encodages sont des vecteurs numpy).
ğŸ‘‰ pickle â†’ transforme les objets Python (vecteurs encodÃ©s) en binaire pour les stocker dans MySQL.
ğŸ‘‰ os â†’ gÃ©rer les chemins et fichiers (parcourir le dossier des images).
ğŸ‘‰ db_config â†’ fichier sÃ©parÃ© pour se connecter Ã  MySQL.




1. Architecture gÃ©nÃ©rale
Le projet aura 3 couches principales :
Collecte & Enregistrement (train_faces.py)
Tu ajoutes les photos des employÃ©s/Ã©tudiants dans un dossier.
On encode leurs visages avec face_recognition.face_encodings().
On stocke les vecteurs dâ€™encodage dans MySQL avec le nom de la personne.
Reconnaissance (recognize.py)
On capture une image (ou une frame de camÃ©ra).
On dÃ©tecte le visage â†’ on calcule lâ€™encodage.
On compare avec la base MySQL â†’ si proche dâ€™un encodage existant, on identifie la personne.
On peut aussi stocker un pointage (timestamp + user_id) dans une table attendance.



3. Workflow du projet
a) Enregistrer un utilisateur
Ajouter sa photo dans images/connues/.
Lancer train_faces.py.
Le script lit lâ€™image.
DÃ©tecte le visage et calcule lâ€™encodage.
Stocke le nom + encodage dans MySQL.

b) Reconnaissance
Lancer recognize.py.
Capture via webcam (ou lire une photo de images/inconnues/).
DÃ©tecte les visages.
Pour chaque visage â†’ compare avec tous les encodages MySQL.
Si correspondance â†’ affiche le nom + enregistre le pointage dans attendance.
Si inconnu â†’ affiche "Inconnu".


Structure du projet
projet_reconnaissance_facial/
â”‚â”€â”€ venv/                       # environnement virtuel
â”‚â”€â”€ images/
â”‚   â”œâ”€â”€ connues/                # images des utilisateurs connus
â”‚   â”‚   â”œâ”€â”€ ousmane.jpg
â”‚   â”‚   â”œâ”€â”€ ami1.jpg
â”‚   â””â”€â”€ inconnues/              # images Ã  tester
â”‚       â””â”€â”€ groupe.jpg
â”‚â”€â”€ train_faces.py               # encoder et enregistrer dans MySQL
â”‚â”€â”€ recognize.py                 # reconnaÃ®tre en temps rÃ©el + enregistrer le pointage
â”‚â”€â”€ db_config.py                 # fichier config MySQL (host, user, password, db)



ğŸ”„ Pipeline de reconnaissance faciale avec tes libs
1ï¸âƒ£ Capture de lâ€™image
opencv-python (cv2.VideoCapture(0)) â†’ ouvre la webcam, prend une photo ou lit une vidÃ©o.
pillow (Image.open("image.jpg")) â†’ ouvrir et manipuler les fichiers images (JPG, PNG).

2ï¸âƒ£ PrÃ©traitement des images
numpy â†’ convertit lâ€™image en tableau de pixels (matrice ndarray).
Exemple : une image 640Ã—480 RGB devient une matrice 480x640x3.

3ï¸âƒ£ DÃ©tection du visage
dlib (via face-recognition) â†’ trouve les positions des visages dans lâ€™image.
Exemple : face_recognition.face_locations(img) retourne les coordonnÃ©es [top, right, bottom, left] du visage.

4ï¸âƒ£ Encodage du visage
dlib calcule un vecteur numÃ©rique de 128 dimensions qui reprÃ©sente ton visage.
face-recognition simplifie Ã§a avec :
encodings = face_recognition.face_encodings(img)

5ï¸âƒ£ Comparaison et reconnaissance
Tu compares lâ€™encodage du visage dÃ©tectÃ© avec ta base de donnÃ©es.
numpy est utilisÃ© pour mesurer la distance entre vecteurs.
Exemple :
results = face_recognition.compare_faces([known_encoding], unknown_encoding)

6ï¸âƒ£ Affichage et interaction
opencv-python â†’ affiche la vidÃ©o et dessine des rectangles + noms autour des visages (cv2.rectangle).
colorama â†’ colore les logs dans le terminal (vert = reconnu, rouge = inconnu).
click â†’ permet de lancer ton script en ligne de commande avec des arguments, ex :
python recognize.py --image test.jpg

ğŸ–¼ï¸ SchÃ©ma simplifiÃ©
[ WebCam / Image ] 
        â”‚
        â–¼
[ opencv / pillow ]  â†’ Charger lâ€™image
        â”‚
        â–¼
[ numpy ]  â†’ Transformer en matrice
        â”‚
        â–¼
[ dlib + face-recognition ]  
        - DÃ©tection du visage
        - Encodage en vecteur (128D)
        â”‚
        â–¼
[ numpy ]  â†’ Comparaison des vecteurs
        â”‚
        â–¼
[ RÃ©sultat ]  
   â”œâ”€â”€ visage reconnu â†’ nom affichÃ©
   â””â”€â”€ inconnu â†’ marquer comme "unknown"
        â”‚
        â–¼
[ opencv ] â†’ Afficher rectangle + texte
[ colorama ] â†’ Logs colorÃ©s dans terminal
[ click ] â†’ Interface en ligne de commande








ajouter une barre de recherche par date de pointage